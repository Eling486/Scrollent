(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("[data-scrollent]{opacity:0}[data-scrollent].scrollent-show{opacity:1;transform:translate(0) translateY(0)}[data-scrollent^=invariant]{opacity:1}[data-scrollent^=fade]{transition-property:opacity}[data-scrollent^=fade-right]{transition-property:opacity,transform;transform:translate(var(--sl-tlx))}[data-scrollent^=fade-left]{transition-property:opacity,transform;transform:translate(calc(-1 * var(--sl-tlx)))}[data-scrollent^=fade-left-top]{transition-property:opacity,transform;transform:translate(calc(-1 * var(--sl-tlx))) translateY(calc(-1 * var(--sl-tly)))}[data-scrollent^=fade-right-top]{transition-property:opacity,transform;transform:translate(var(--sl-tlx)) translateY(calc(-1 * var(--sl-tly)))}[data-scrollent^=fade-top]{transition-property:opacity,transform;transform:translateY(calc(-1 * var(--sl-tly)))}[data-scrollent^=fade-left-bottom]{transition-property:opacity,transform;transform:translate(calc(-1 * var(--sl-tlx))) translateY(var(--sl-tly))}[data-scrollent^=fade-right-bottom]{transition-property:opacity,transform;transform:translate(var(--sl-tlx)) translateY(var(--sl-tly))}[data-scrollent^=fade-bottom]{transition-property:opacity,transform;transform:translateY(var(--sl-tlx))}")),document.head.appendChild(t)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
(function(f,o){typeof exports=="object"&&typeof module<"u"?module.exports=o():typeof define=="function"&&define.amd?define(o):(f=typeof globalThis<"u"?globalThis:f||self,f.Scrollent=o())})(this,function(){"use strict";const f=n=>{const t={root:document,reentrant:!1,once:!1,duration:"0.5s",easing:"ease-out",percent:.4,offset:120,translate:"10px",delay:0};if(!n)return t;for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e]);return n},o={cShow:"scrollent-show",cReady:"scrollent-ready-to-show",updateClass(n){n.refs.forEach(t=>{for(let e=0;e<t.children.length;e++){let s=t.children[e],r=s.percent,i=s.offset,l=s.delay;if(i){let h=window.innerHeight;r=i/h}if(r){if(t.percentage>r){if(t.percentage>1&&s.reentrant){s.dom.classList.remove(this.cReady),s.dom.classList.remove(this.cShow);continue}if(l){if(s.dom.classList.contains(this.cReady)||s.dom.classList.contains(this.cShow))continue;s.dom.classList.add(this.cReady),setTimeout(()=>{s.dom.classList.add(this.cShow),s.dom.classList.remove(this.cReady)},l),s.once&&t.children.splice(e,1);continue}s.once&&t.children.splice(e,1),s.dom.classList.add(this.cShow);continue}s.dom.classList.remove(this.cReady),s.dom.classList.remove(this.cShow);continue}}})},initStyle(n){n.targets.forEach(t=>{t.dom.style.transitionDuration=t.duration,t.dom.style.transitionTimingFunction=n.easing,t.dom.style.setProperty("--sl-tlx",t.translate.x),t.dom.style.setProperty("--sl-tly",t.translate.y),t.dom.classList.add("scrollent-init")})}};class u{constructor(t){this.options=t,t.root.addEventListener("scroll",()=>{this.handleScroll()}),this.handleScroll()}handleScroll(){for(let t=0;t<this.options.refs.length;t++){let e=this.options.refs[t].ref,s=window.innerHeight,r=e.getBoundingClientRect();if(r.top>s){this.options.refs[t].percentage=0;continue}let i=1-(r.top+r.height)/(s+r.height);i!==this.options.refs[t].percentage&&(this.options.refs[t].events.trigger("percentageChanged",{from:this.options.refs[t].percentage,to:i}),this.options.refs[t].percentage=i)}o.updateClass(this.options)}destroy(){options.root.removeEventListener("scroll",()=>{this.handleScroll()})}}class g{constructor(t){this.events={},this.options=t,this.allowedEvents=["destroy"]}on(t,e){if(typeof t=="string"){this.test(t)&&typeof e=="function"&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e));return}}refOn(t,e){if(Array.isArray(t)&&(t={event:t[0],ref:t[1]}),this.isDOM(t.ref)&&typeof e=="function")for(let s=0;s<this.options.refs.length;s++)this.options.refs[s].ref==t.ref&&this.options.refs[s].events.on(t.event,e)}targetOn(t,e){if(Array.isArray(t)&&(t={event:t[0],target:t[1]}),this.isDOM(t.target)&&typeof e=="function")for(let s=0;s<this.options.targets.length;s++)this.options.targets[s].dom==t.target&&this.options.targets[s].events.on(t.event,e)}trigger(t,e){if(this.events[t]&&this.events[t].length)for(let s=0;s<this.events[t].length;s++)this.events[t][s](e)}isDOM(t){return typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}test(t){return this.selectorEvents.indexOf(t)!==-1?!0:(console.error(`Unknown event name: ${t}`),null)}}class p{constructor(t="target"){this.events={},t=="ref"&&(this.allowedEvents=["percentageChanged"]),t=="target"&&(this.allowedEvents=["in","out"])}on(t,e){this.test(t)&&typeof e=="function"&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}trigger(t,e){if(this.events[t]&&this.events[t].length)for(let s=0;s<this.events[t].length;s++)this.events[t][s](e)}test(t){return this.allowedEvents.indexOf(t)!==-1?!0:(console.error(`Unknown event name: ${t}`),null)}}class y{constructor(t){this.options=f(t)}init(){return this.scan(),this.refs=this.options.refs,this.targets=this.options.targets,this.events=new g(this.options),this.listener=new u(this.options),this.render=o,this.render.initStyle(this.options),this}scan(){this.options.targets=[],this.options.refs=[],document.querySelectorAll("[data-scrollent]").forEach(t=>{let e={dom:t,events:new p("target")},r=(t.getAttribute("data-scrollent-translate")||this.options.translate).split(" ");e.translate={x:r[0],y:r[1]},e.translate.y||(e.translate.y=e.translate.x);let i=t.getAttribute("data-scrollent-percent");i===""&&(e.percent=this.options.percent),i&&(e.percent=parseFloat(i),i.includes("%")&&(e.percent=parseFloat(i)/100));let l=t.getAttribute("data-scrollent-offset");(l||l==="")&&(e.offset=parseInt(l)||this.options.offset),!e.offset&&!e.percent&&(e.percent=this.options.percent);let h=t.getAttribute("data-scrollent-delay");(h&&parseInt(h)>0||h===""&&this.options.delay>0)&&(e.delay=parseInt(h)||this.options.delay),e.once=!1;let c=t.getAttribute("data-scrollent-once");(c||c===""||c!=="false"&&this.options.once)&&(e.once=!0),e.reentrant=!1;let a=t.getAttribute("data-scrollent-reentrant");(a||a===""||a!=="false"&&this.options.reentrant)&&(e.reentrant=!0),e.duration=t.getAttribute("data-scrollent-duration")||this.options.duration;let d=t.getAttribute("data-scrollent-ref");d&&(e.ref=document.querySelector(d)),e.ref||(e.ref=t),this.options.targets.push(e)}),this.options.targets.forEach(t=>{for(let e=0;e<this.options.refs.length;e++)if(this.options.refs[e].ref==t.ref)return this.options.refs[e].children.push(t);return this.options.refs.push({ref:t.ref,events:new p("ref"),children:[t]})})}}const v="";return y});
