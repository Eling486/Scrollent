(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.id="scrollent",a.appendChild(document.createTextNode("[data-scrollent]{opacity:1;transition-duration:calc(var(--sl-dur) * 1ms);transition-timing-function:var(--sl-eas);transform-origin:center}[data-scrollent].scrollent-show{opacity:1;transform:none}[data-scrollent^=none]{opacity:1}[data-scrollent^=fade]{opacity:0}[data-scrollent]{transform:perspective(var(--sl-per)) translate3d(calc(var(--sl-dsx) * var(--sl-dx)),calc(var(--sl-dsy) * var(--sl-dy)),0) scale(var(--sl-s)) rotateX(calc(1deg * var(--sl-rx))) rotateY(calc(1deg * var(--sl-ry))) rotate(calc(1deg * var(--sl-rz)))}")),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(c,p){typeof exports=="object"&&typeof module<"u"?module.exports=p():typeof define=="function"&&define.amd?define(p):(c=typeof globalThis<"u"?globalThis:c||self,c.Scrollent=p())})(this,function(){"use strict";const c=n=>{const e={root:document,reentrant:!1,startEvent:"load",once:!1,duration:500,easing:"ease-out",percent:.4,offset:120,distance:"20px",rotate:"0",scale:1,delay:0,debounce:10,flip:90,perspective:"2000px",attrName:"data-scrollent"};if(!n)return e;for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t]);return n},p={cShow:"scrollent-show",cReady:"scrollent-ready-to-show",updateClass(n){n.refs.forEach(e=>{for(let t=0;t<e.children.length;t++){let s=e.children[t],r=s.percent,l=s.offset,d=s.delay;if(l){let m=window.innerHeight;r=l/m}if(r){if(e.percentage>r){if(s.once&&e.children.splice(t,1),e.percentage>1&&s.reentrant){s.dom.classList.remove(this.cReady,this.cShow);continue}if(s.dom.classList.contains(this.cShow))continue;if(d){if(s.dom.classList.contains(this.cReady))continue;s.dom.classList.add(this.cReady),s.delayTimer&&clearTimeout(s.delayTimer),s.delayTimer=setTimeout(()=>{(e.percentage>r||s.once)&&s.dom.classList.add(this.cShow),s.dom.classList.remove(this.cReady)},d);continue}s.dom.classList.add(this.cShow);continue}s.dom.classList.remove(this.cReady,this.cShow);continue}}})},initStyle(n){n.targets.forEach(e=>{e.dom.classList.remove(this.cReady,this.cShow),e.dom.style.setProperty("--sl-dur",e.params.duration),e.dom.style.setProperty("--sl-eas",e.params.easing),e.dom.style.setProperty("--sl-dsx",e.params.distance.symX),e.dom.style.setProperty("--sl-dsy",e.params.distance.symY),e.dom.style.setProperty("--sl-dx",e.params.distance.x),e.dom.style.setProperty("--sl-dy",e.params.distance.y),e.dom.style.setProperty("--sl-rx",e.params.rotate.x),e.dom.style.setProperty("--sl-ry",e.params.rotate.y),e.dom.style.setProperty("--sl-rz",e.params.rotate.z),e.dom.style.setProperty("--sl-s",e.params.scale),e.dom.style.setProperty("--sl-per",e.params.perspective),e.dom.classList.add("scrollent-init")})}};class Y{constructor(e){this.options=e,this.scrollTimer,this.options.root.addEventListener("scroll",t=>{this.handleScroll()})}handleScroll(){this.scrollTimer||(this.scrollTimer=setTimeout(()=>{this.updatePercentage(),p.updateClass(this.options),clearTimeout(this.scrollTimer),this.scrollTimer=null},this.options.debounce))}updatePercentage(){for(let e=0;e<this.options.refs.length;e++){let t=this.options.refs[e].ref,s=window.innerHeight,r=t.getBoundingClientRect(),l=1-(r.top+r.height)/(s+r.height);l!==this.options.refs[e].percentage&&(this.options.refs[e].events.trigger("percentageChanged",{from:this.options.refs[e].percentage,to:l}),this.options.refs[e].percentage=l)}}destroy(){options.root.removeEventListener("scroll",()=>{this.handleScroll()})}}class z{constructor(e){this.events={},this.options=e,this.allowedEvents={instance:["destroy"],ref:["percentageChanged"],target:["in","out"]}}on(e,t){if(typeof e=="string")return this.test(e)&&typeof t=="function"?(this.events[e]||(this.events[e]=[]),this.events[e].push(t)):void 0;if(Array.isArray(e)&&(e={event:e[0],dom:e[1]}),!this.isDOM(e.dom))return console.error("[Scrollent] the ref or target event needs to provide a DOM");if(this.test(e.event,"ref")&&this.isDOM(e.dom)&&typeof t=="function"){for(let s=0;s<this.options.refs.length;s++)this.options.refs[s].ref==e.dom&&this.options.refs[s].events.on(e.event,t);return}if(this.test(e.event,"target")&&this.isDOM(e.dom)&&typeof t=="function"){for(let s=0;s<this.options.targets.length;s++)this.options.targets[s].dom==e.target&&this.options.targets[s].events.on(e.event,t);return}console.error(`[Scrollent] Unknown event name: ${e.event}`)}trigger(e,t){if(this.events[e]&&this.events[e].length)for(let s=0;s<this.events[e].length;s++)this.events[e][s](t)}isDOM(e){return typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string"}test(e,t="instance"){return this.allowedEvents[t].indexOf(e)!==-1?!0:(t=="instance"&&console.error(`[Scrollent] Unknown event name: ${e}`),!1)}}class S{constructor(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}trigger(e,t){if(this.events[e]&&this.events[e].length)for(let s=0;s<this.events[e].length;s++)this.events[e][s](t)}}class C{constructor(e){this.options=c(e)}init(){return this.scan(),this.refs=this.options.refs,this.targets=this.options.targets,this.render=p,this.events=new z(this.options),this.listener=new Y(this.options),window.addEventListener(this.options.startEvent,e=>{this.refresh()}),this.refresh(),this}scan(){this.options.targets=[],this.options.refs=[],document.querySelectorAll("[data-scrollent]:not(.scrollent-init)").forEach(e=>{let t={dom:e,events:new S,params:{}},s=this.options.attrName,r=e.getAttribute("data-scrollent"),l=0,d=0,m=/(fade)?-?((left)|(right)|(down)|(up))((-left)|(-right)|(-down)|(-up))?/g,A=["left","right"],L=["up","down"],O=[1,-1],P=[1,-1],h=r.match(m);if(h){let o=h[0].indexOf("-");o==0&&(h=null),o!==0&&(h=h[0].substring(o+1,h.Length))}h&&h.split("-").forEach(f=>{let y=A.indexOf(f),X=L.indexOf(f);y>=0&&(l=O[y]),X>=0&&(d=P[X])});let g=(e.getAttribute(`${s}-distance`)||this.options.distance).split(" ");t.params.distance={x:g[0],symX:l,y:g[1]||g[0],symY:d};let i=(e.getAttribute(`${s}-rotate`)||this.options.rotate).split(" ");i[0]=="-"&&(i[0]="0"),i[1]=="-"&&(i[1]="0"),t.params.rotate={x:i[0]||i[1]||i[2],y:i[1]||i[0]||i[2],z:i[2]||i[0]||i[1]};let T=["scale","easing","perspective","flip","zoom"];for(let o=0;o<T.length;o++){let f=T[o];t.params[f]=e.getAttribute(`${s}-${f}`)||this.options[f]}r.indexOf("zoom")>=0&&(t.params.scale=t.params.zoom);let E=0,$=0,D=/(flip-)((left)|(right)|(down)|(up))/,R=r.match(D);if(R){let o=R[0].split("-")[1],f=A.indexOf(o),y=L.indexOf(o);f>=0&&(E=O[f],t.params.rotate.x=E*this.options.flip),y>=0&&($=P[y],t.params.rotate.y=$*this.options.flip)}let u=e.getAttribute(`${s}-percent`);u===""&&(t.percent=this.options.percent),u&&(t.percent=parseFloat(u),u.includes("%")&&(t.percent=parseFloat(u)/100));let v=e.getAttribute(`${s}-offset`);(v||v==="")&&(t.offset=parseInt(v)||this.options.offset),!t.offset&&!t.percent&&(t.percent=this.options.percent);let a=e.getAttribute(`${s}-delay`)||this.options.delay;typeof a=="string"&&(a=parseInt(a)),a<=0&&(a=!1),t.delay=a,t.once=!1;let w=e.getAttribute(`${s}-once`);(w||w===""||this.options.once)&&w!=="false"&&(t.once=!0),t.reentrant=!1;let x=e.getAttribute(`${s}-reentrant`);(x||x===""||this.options.reentrant)&&x!=="false"&&(t.reentrant=!0),t.params.duration=e.getAttribute(`${s}-duration`)||this.options.duration,typeof t.params.duration=="string"&&(t.params.duration=parseInt(t.params.duration));let b=e.getAttribute(`${s}-ref`);b&&(t.ref=document.querySelector(b)),t.ref||(t.ref=e),this.options.targets.push(t)}),this.options.targets.forEach(e=>{for(let t=0;t<this.options.refs.length;t++)if(this.options.refs[t].ref==e.ref)return this.options.refs[t].children.push(e);return this.options.refs.push({ref:e.ref,events:new S,children:[e]})})}refresh(e=!1,t=this.options.duration){e&&this.scan(),this.render.initStyle(this.options),setTimeout(()=>{this.listener.updatePercentage(),this.render.updateClass(this.options)},t)}}const M="",H="";return C});
