(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.id="scrollent",a.appendChild(document.createTextNode("[data-scrollent]{opacity:0;transition-duration:calc(var(--sl-dur) * 1ms)}[data-scrollent^=none]{opacity:1}[data-scrollent^=fade]{opacity:0;transition-property:opacity,transform}[data-scrollent^=fade].scrollent-show{opacity:1;transform:none}[data-scrollent^=fade-right]{transform:translate3d(var(--sl-dx),0,0)}[data-scrollent^=fade-left]{transform:translate3d(calc(-1 * var(--sl-dx)),0,0)}[data-scrollent^=fade-left-top]{transform:translate3d(calc(-1 * var(--sl-dx)),calc(-1 * var(--sl-dy)),0)}[data-scrollent^=fade-right-top]{transform:translate3d(var(--sl-dx),calc(-1 * var(--sl-dy)),0)}[data-scrollent^=fade-top]{transform:translate3d(0,calc(-1 * var(--sl-dy)),0)}[data-scrollent^=fade-left-bottom]{transform:translate3d(calc(-1 * var(--sl-dx)),var(--sl-dy),0)}[data-scrollent^=fade-right-bottom]{transform:translate3d(var(--sl-dx),var(--sl-dy),0)}[data-scrollent^=fade-bottom]{transform:translate3d(0,var(--sl-dx),0)}")),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(c,l){typeof exports=="object"&&typeof module<"u"?module.exports=l():typeof define=="function"&&define.amd?define(l):(c=typeof globalThis<"u"?globalThis:c||self,c.Scrollent=l())})(this,function(){"use strict";const c=i=>{const e={root:document,reentrant:!1,startEvent:"load",once:!1,duration:500,easing:"ease-out",percent:.4,offset:120,distance:"20px",delay:0};if(!i)return e;for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t]);return i},l={cShow:"scrollent-show",cReady:"scrollent-ready-to-show",updateClass(i){i.refs.forEach(e=>{for(let t=0;t<e.children.length;t++){let s=e.children[t],o=s.percent,n=s.offset,h=s.delay;if(n){let r=window.innerHeight;o=n/r}if(o){if(e.percentage>o){if(s.once&&e.children.splice(t,1),e.percentage>1&&s.reentrant){s.dom.classList.remove(this.cReady,this.cShow);continue}if(s.dom.classList.contains(this.cShow))continue;if(h){if(s.dom.classList.contains(this.cReady))continue;s.dom.classList.add(this.cReady),s.delayTimer&&clearTimeout(s.delayTimer),s.delayTimer=setTimeout(()=>{(e.percentage>o||s.once)&&s.dom.classList.add(this.cShow),s.dom.classList.remove(this.cReady)},h);continue}s.dom.classList.add(this.cShow);continue}s.dom.classList.remove(this.cReady,this.cShow);continue}}})},initStyle(i){i.targets.forEach(e=>{e.dom.classList.remove(this.cReady,this.cShow),e.dom.style.setProperty("--sl-dur",e.duration),e.dom.style.transitionTimingFunction=i.easing,e.dom.style.setProperty("--sl-dx",e.distance.x),e.dom.style.setProperty("--sl-dy",e.distance.y),e.dom.classList.add("scrollent-init")})}};class u{constructor(e){this.options=e,this.scrollTimer,e.root.addEventListener("scroll",()=>{this.handleScroll()})}handleScroll(){this.scrollTimer||(this.scrollTimer=setTimeout(()=>{this.updatePercentage(),l.updateClass(this.options),clearTimeout(this.scrollTimer),this.scrollTimer=null},50))}updatePercentage(){for(let e=0;e<this.options.refs.length;e++){let t=this.options.refs[e].ref,s=window.innerHeight,o=t.getBoundingClientRect(),n=1-(o.top+o.height)/(s+o.height);n!==this.options.refs[e].percentage&&(this.options.refs[e].events.trigger("percentageChanged",{from:this.options.refs[e].percentage,to:n}),this.options.refs[e].percentage=n)}}destroy(){options.root.removeEventListener("scroll",()=>{this.handleScroll()})}}class g{constructor(e){this.events={},this.options=e,this.allowedEvents={instance:["destroy"],ref:["percentageChanged"],target:["in","out"]}}on(e,t){if(typeof e=="string")return this.test(e)&&typeof t=="function"?(this.events[e]||(this.events[e]=[]),this.events[e].push(t)):void 0;if(Array.isArray(e)&&(e={event:e[0],dom:e[1]}),!this.isDOM(e.dom))return console.error("[Scrollent] the ref or target event needs to provide a DOM");if(this.test(e.event,"ref")&&this.isDOM(e.dom)&&typeof t=="function"){for(let s=0;s<this.options.refs.length;s++)this.options.refs[s].ref==e.dom&&this.options.refs[s].events.on(e.event,t);return}if(this.test(e.event,"target")&&this.isDOM(e.dom)&&typeof t=="function"){for(let s=0;s<this.options.targets.length;s++)this.options.targets[s].dom==e.target&&this.options.targets[s].events.on(e.event,t);return}console.error(`[Scrollent] Unknown event name: ${e.event}`)}trigger(e,t){if(this.events[e]&&this.events[e].length)for(let s=0;s<this.events[e].length;s++)this.events[e][s](t)}isDOM(e){return typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string"}test(e,t="instance"){return this.allowedEvents[t].indexOf(e)!==-1?!0:(t=="instance"&&console.error(`[Scrollent] Unknown event name: ${e}`),!1)}}class d{constructor(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}trigger(e,t){if(this.events[e]&&this.events[e].length)for(let s=0;s<this.events[e].length;s++)this.events[e][s](t)}}class y{constructor(e){this.options=c(e)}init(){return this.scan(),this.refs=this.options.refs,this.targets=this.options.targets,this.render=l,this.events=new g(this.options),this.listener=new u(this.options),window.addEventListener(this.options.startEvent,e=>{this.refresh()}),this.refresh(),this}scan(){this.options.targets=[],this.options.refs=[],document.querySelectorAll("[data-scrollent]").forEach(e=>{let t={dom:e,events:new d},o=(e.getAttribute("data-scrollent-distance")||this.options.distance).split(" ");t.distance={x:o[0],y:o[1]},t.distance.y||(t.distance.y=t.distance.x);let n=e.getAttribute("data-scrollent-percent");n===""&&(t.percent=this.options.percent),n&&(t.percent=parseFloat(n),n.includes("%")&&(t.percent=parseFloat(n)/100));let h=e.getAttribute("data-scrollent-offset");(h||h==="")&&(t.offset=parseInt(h)||this.options.offset),!t.offset&&!t.percent&&(t.percent=this.options.percent);let r=e.getAttribute("data-scrollent-delay")||this.options.delay;typeof r=="string"&&(r=parseInt(r)),r<=0&&(r=!1),t.delay=r,t.once=!1;let f=e.getAttribute("data-scrollent-once");(f||f===""||this.options.once)&&f!=="false"&&(t.once=!0),t.reentrant=!1;let a=e.getAttribute("data-scrollent-reentrant");(a||a===""||this.options.reentrant)&&a!=="false"&&(t.reentrant=!0),t.duration=e.getAttribute("data-scrollent-duration")||this.options.duration,typeof t.duration=="string"&&(t.duration=parseInt(t.duration));let p=e.getAttribute("data-scrollent-ref");p&&(t.ref=document.querySelector(p)),t.ref||(t.ref=e),this.options.targets.push(t)}),this.options.targets.forEach(e=>{for(let t=0;t<this.options.refs.length;t++)if(this.options.refs[t].ref==e.ref)return this.options.refs[t].children.push(e);return this.options.refs.push({ref:e.ref,events:new d,children:[e]})})}refresh(e=!1,t=this.options.duration){e&&(console.log("force"),this.scan()),this.render.initStyle(this.options),setTimeout(()=>{this.listener.updatePercentage(),this.render.updateClass(this.options)},t)}}const v="";return y});
