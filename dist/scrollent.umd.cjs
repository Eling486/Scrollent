(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.id="scrollent",a.appendChild(document.createTextNode("[data-scrollent]{opacity:1;transition-duration:calc(var(--sl-dur) * 1ms);transition-timing-function:var(--sl-eas);transform-origin:center}[data-scrollent].scrollent-show{opacity:1;transform:none}[data-scrollent^=none]{opacity:1}[data-scrollent^=fade]{opacity:0}[data-scrollent]{transform:perspective(var(--sl-per)) translate3d(calc(var(--sl-dsx) * var(--sl-dx)),calc(var(--sl-dsy) * var(--sl-dy)),0) scale(var(--sl-s)) rotateX(calc(1deg * var(--sl-rx))) rotateY(calc(1deg * var(--sl-ry))) rotate(calc(1deg * var(--sl-rz)))}")),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(u,p){typeof exports=="object"&&typeof module<"u"?module.exports=p():typeof define=="function"&&define.amd?define(p):(u=typeof globalThis<"u"?globalThis:u||self,u.Scrollent=p())})(this,function(){"use strict";const u=r=>{const t={root:document,reentrant:!1,startEvent:"load",once:!1,duration:500,easing:"ease-out",percent:.4,percentOut:1,offset:120,offsetOut:null,distance:"20px",rotate:"0",scale:1,delay:0,debounce:10,flip:90,perspective:"2000px",attrName:"data-scrollent"};if(!r)return t;for(const e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e]);return r},p={cShow:"scrollent-show",cReady:"scrollent-ready-to-show",updateClass(r){r.refs.forEach(t=>{for(let e=0;e<t.children.length;e++){let s=t.children[e],o=s.percent,l=s.percentOut,y=s.delay;if(s.offset){let c=window.innerHeight;o=s.offset/c}if(s.offsetOut){let c=window.innerHeight;l=(c-s.offsetOut)/c}if(o){if(t.percentage>o){if(s.once&&t.children.splice(e,1),t.percentage>l&&s.reentrant){s.dom.classList.contains(this.cShow)&&s.events.trigger("out"),s.dom.classList.remove(this.cReady,this.cShow);continue}if(s.dom.classList.contains(this.cShow))continue;if(y){if(s.dom.classList.contains(this.cReady))continue;s.dom.classList.add(this.cReady),s.delayTimer&&clearTimeout(s.delayTimer),s.delayTimer=setTimeout(()=>{(t.percentage>o||s.once)&&(s.events.trigger("in"),s.dom.classList.add(this.cShow)),s.dom.classList.remove(this.cReady)},y);continue}s.dom.classList.contains(this.cReady)||s.events.trigger("in"),s.dom.classList.add(this.cShow);continue}s.dom.classList.contains(this.cShow)&&s.events.trigger("out"),s.dom.classList.remove(this.cReady,this.cShow);continue}}})},initStyle(r){r.targets.forEach(t=>{t.dom.classList.remove(this.cReady,this.cShow),t.dom.style.setProperty("--sl-dur",t.params.duration),t.dom.style.setProperty("--sl-eas",t.params.easing),t.dom.style.setProperty("--sl-dsx",t.params.distance.symX),t.dom.style.setProperty("--sl-dsy",t.params.distance.symY),t.dom.style.setProperty("--sl-dx",t.params.distance.x),t.dom.style.setProperty("--sl-dy",t.params.distance.y),t.dom.style.setProperty("--sl-rx",t.params.rotate.x),t.dom.style.setProperty("--sl-ry",t.params.rotate.y),t.dom.style.setProperty("--sl-rz",t.params.rotate.z),t.dom.style.setProperty("--sl-s",t.params.scale),t.dom.style.setProperty("--sl-per",t.params.perspective),t.dom.classList.add("scrollent-init")})}};class D{constructor(t){this.options=t,this.scrollTimer,this.options.root.addEventListener("scroll",e=>{this.handleScroll()})}handleScroll(){this.scrollTimer||(this.scrollTimer=setTimeout(()=>{this.updatePercentage(),p.updateClass(this.options),clearTimeout(this.scrollTimer),this.scrollTimer=null},this.options.debounce))}updatePercentage(){for(let t=0;t<this.options.refs.length;t++){let e=this.options.refs[t].ref,s=window.innerHeight,o=e.getBoundingClientRect(),l=1-(o.top+o.height)/(s+o.height);l!==this.options.refs[t].percentage&&(this.options.refs[t].events.trigger("percentageChanged",{from:this.options.refs[t].percentage,to:l}),this.options.refs[t].percentage=l)}}destroy(){options.root.removeEventListener("scroll",()=>{this.handleScroll()})}}class H{constructor(t){this.events={},this.options=t,this.allowedEvents={instance:["destroy"],ref:["percentageChanged"],target:["in","out"]}}on(t,e){if(typeof t=="string")return this.test(t)&&typeof e=="function"?(this.events[t]||(this.events[t]=[]),this.events[t].push(e)):void 0;if(Array.isArray(t)&&(t={event:t[0],dom:t[1]}),!this.isDOM(t.dom))return console.error("[Scrollent] the ref or target event needs to provide a DOM");if(this.test(t.event,"ref")&&this.isDOM(t.dom)&&typeof e=="function"){for(let s=0;s<this.options.refs.length;s++)this.options.refs[s].ref==t.dom&&this.options.refs[s].events.on(t.event,e);return}if(this.test(t.event,"target")&&this.isDOM(t.dom)&&typeof e=="function"){for(let s=0;s<this.options.targets.length;s++)this.options.targets[s].dom==t.dom&&this.options.targets[s].events.on(t.event,e);return}console.error(`[Scrollent] Unknown event name: ${t.event}`)}trigger(t,e=null){if(this.events[t]&&this.events[t].length)for(let s=0;s<this.events[t].length;s++)this.events[t][s](e)}isDOM(t){return typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}test(t,e="instance"){return this.allowedEvents[e].indexOf(t)!==-1?!0:(e=="instance"&&console.error(`[Scrollent] Unknown event name: ${t}`),!1)}}class L{constructor(){this.events={}}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}trigger(t,e){if(this.events[t]&&this.events[t].length)for(let s=0;s<this.events[t].length;s++)this.events[t][s](e)}}class M{constructor(t){this.options=u(t)}init(){return this.scan(),this.refs=this.options.refs,this.targets=this.options.targets,this.render=p,this.events=new H(this.options),this.listener=new D(this.options),window.addEventListener(this.options.startEvent,t=>{this.refresh()}),this.refresh(),this}scan(){this.options.targets=[],this.options.refs=[],document.querySelectorAll("[data-scrollent]:not(.scrollent-init)").forEach(t=>{let e={dom:t,events:new L,params:{}},s=this.options.attrName,o=t.getAttribute("data-scrollent"),l=0,y=0,c=/(fade)?-?((left)|(right)|(down)|(up))((-left)|(-right)|(-down)|(-up))?/g,A=["left","right"],P=["up","down"],T=[1,-1],$=[1,-1],h=o.match(c);if(h){let i=h[0].indexOf("-");i==0&&(h=null),i!==0&&(h=h[0].substring(i+1,h.Length))}h&&h.split("-").forEach(f=>{let m=A.indexOf(f),C=P.indexOf(f);m>=0&&(l=T[m]),C>=0&&(y=$[C])});let g=(t.getAttribute(`${s}-distance`)||this.options.distance).split(" ");e.params.distance={x:g[0],symX:l,y:g[1]||g[0],symY:y};let n=(t.getAttribute(`${s}-rotate`)||this.options.rotate).split(" ");n[0]=="-"&&(n[0]="0"),n[1]=="-"&&(n[1]="0"),e.params.rotate={x:n[0]||n[1]||n[2],y:n[1]||n[0]||n[2],z:n[2]||n[0]||n[1]};let E=["scale","easing","perspective","flip","zoom"];for(let i=0;i<E.length;i++){let f=E[i];e.params[f]=t.getAttribute(`${s}-${f}`)||this.options[f]}o.indexOf("zoom")>=0&&(e.params.scale=e.params.zoom);let b=0,R=0,I=/(flip-)((left)|(right)|(down)|(up))/,X=o.match(I);if(X){let i=X[0].split("-")[1],f=A.indexOf(i),m=P.indexOf(i);f>=0&&(b=T[f],e.params.rotate.x=b*this.options.flip),m>=0&&(R=$[m],e.params.rotate.y=R*this.options.flip)}let a=t.getAttribute(`${s}-percent`),v=t.getAttribute(`${s}-percent-out`);a===""&&(e.percent=this.options.percent),v===""&&(e.percentOut=this.options.percentOut);function Y(i){return a=parseFloat(i),i.includes("%")&&(a=parseFloat(i)/100),a}a&&(e.percent=Y(a)),v&&(e.percentOut=Y(v));let w=t.getAttribute(`${s}-offset`);(w||w==="")&&(e.offset=parseInt(w)||this.options.offset);let O=t.getAttribute(`${s}-offset-out`);(O||O==="")&&(e.offsetOut=parseInt(O)||this.options.offsetOut),!e.offset&&!e.percent&&(e.percent=this.options.percent),!e.offsetOut&&!e.percentOut&&(e.percentOut=this.options.percentOut);let d=t.getAttribute(`${s}-delay`)||this.options.delay;typeof d=="string"&&(d=parseInt(d)),d<=0&&(d=!1),e.delay=d,e.once=!1;let x=t.getAttribute(`${s}-once`);(x||x===""||this.options.once)&&x!=="false"&&(e.once=!0),e.reentrant=!1;let S=t.getAttribute(`${s}-reentrant`);(S||S===""||this.options.reentrant)&&S!=="false"&&(e.reentrant=!0),e.params.duration=t.getAttribute(`${s}-duration`)||this.options.duration,typeof e.params.duration=="string"&&(e.params.duration=parseInt(e.params.duration));let z=t.getAttribute(`${s}-ref`);z&&(e.ref=document.querySelector(z)),e.ref||(e.ref=t),this.options.targets.push(e)}),this.options.targets.forEach(t=>{for(let e=0;e<this.options.refs.length;e++)if(this.options.refs[e].ref==t.ref)return this.options.refs[e].children.push(t);return this.options.refs.push({ref:t.ref,events:new L,children:[t]})})}refresh(t=!1,e=this.options.duration){t&&this.scan(),this.render.initStyle(this.options),setTimeout(()=>{this.listener.updatePercentage(),this.render.updateClass(this.options)},e)}}const N="",F="";return M});
